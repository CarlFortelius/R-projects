"0",""
"0","get_grid_point_norms <- function(HM_DATE){"
"0","#Find where the Forecast log starts"
"0","idf <- which(str_detect(HM_DATE, ""Forecasting/Forecast""))[2]"
"0","#Find lines with value of NSTEP, and select those where NSTEP>0"
"0","idx <- which(str_detect(HM_DATE, ""NORMS AT NSTEP CNT4""))"
"0","idx <- idx[idx > idf]"
"0","idx <- idx[ which(sapply(idx, function(idx) "
"0","       as.numeric(str_extract_all(HM_DATE[[idx]],""\\(?[0-9,.]+\\)?"")[[1]][[2]]) ) >0)  ]"
"0",""
"0","  tibble("
"0","  NSTEP=sapply(idx, function(idx) as.numeric(str_extract_all(HM_DATE[[idx]],""\\(?[0-9,.]+\\)?"")[[1]][[2]]) ),"
"0","  SPECHUM=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+7]],"" +""))[[3]])),"
"0","  SPECHUM_MIN=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+7]],"" +""))[[4]])),"
"0","  SPECHUM_MAX=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+7]],"" +""))[[5]])),"
"0","  "
"0","  LIQ_WATER=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+9]],"" +""))[[3]])),"
"0","  LIQ_WATER_MIN=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+9]],"" +""))[[4]])),"
"0","  LIQ_WATER_MAX=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+9]],"" +""))[[5]])),"
"0",""
"0","  SOL_WATER=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+11]],"" +""))[[3]])),"
"0","  SOL_WATER_MIN=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+11]],"" +""))[[4]])),"
"0","  SOL_WATER_MAX=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+11]],"" +""))[[5]])),"
"0",""
"0","  SNOW=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+13]],"" +""))[[3]])),"
"0","  SNOW_MIN=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+13]],"" +""))[[4]])),"
"0","  SNOW_MAX=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+13]],"" +""))[[5]])),"
"0","  "
"0","  RAIN=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+15]],"" +""))[[3]])),"
"0","  RAIN_MIN=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+15]],"" +""))[[4]])),"
"0","  RAIN_MAX=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+15]],"" +""))[[5]])),"
"0","  "
"0","  GRAUPEL=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+17]],"" +""))[[3]])),"
"0","  GRAUPEL_MIN=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+17]],"" +""))[[4]])),"
"0","  GRAUPEL_MAX=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+17]],"" +""))[[5]])),"
"0",""
"0","  TKE=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+19]],"" +""))[[3]])),"
"0","  TKE_MIN=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+19]],"" +""))[[4]])),"
"0","  TKE_MAX=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+19]],"" +""))[[5]])),"
"0",""
"0","  CLOUDFRAC=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+21]],"" +""))[[3]])),"
"0","  CLOUDFRAC_MIN=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+21]],"" +""))[[4]])),"
"0","  CLOUDFRAC_MAX=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+21]],"" +""))[[5]])),"
"0","  "
"0","  SRC=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+23]],"" +""))[[3]])),"
"0","  SRC_MIN=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+23]],"" +""))[[4]])),"
"0","  SRC_MAX=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+23]],"" +""))[[5]])),"
"0","  "
"0","  EZDIAG01=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+25]],"" +""))[[3]])),"
"0","  EZDIAG01_MIN=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+25]],"" +""))[[4]])),"
"0","  EZDIAG01_MAX=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+25]],"" +""))[[5]])),"
"0","  "
"0","  EZDIAG02=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+27]],"" +""))[[3]])),"
"0","  EZDIAG02_MIN=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+27]],"" +""))[[4]])),"
"0","  EZDIAG02_MAX=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+27]],"" +""))[[5]])),"
"0","  "
"0","  EZDIAG03=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+29]],"" +""))[[3]])),"
"0","  EZDIAG03_MIN=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+29]],"" +""))[[4]])),"
"0","  EZDIAG03_MAX=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+29]],"" +""))[[5]]))"
"0",")"
"0","}"
"0",""
