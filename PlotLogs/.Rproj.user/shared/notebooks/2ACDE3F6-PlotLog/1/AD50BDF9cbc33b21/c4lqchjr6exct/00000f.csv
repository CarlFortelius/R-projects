"0","get_spectral_norms <- function(HM_DATE){"
"0","  "
"0","#Find where the Forecast log starts"
"0","idf <- which(str_detect(HM_DATE, ""Forecasting/Forecast""))[2]"
"0","#Find lines with value of NSTEP, and select those where NSTEP>0"
"0","idx <- which(str_detect(HM_DATE, ""NORMS AT NSTEP CNT4""))"
"0","idx <- idx[idx > idf]"
"0","idx <- idx[ which(sapply(idx, function(idx) "
"0","       as.numeric(str_extract_all(HM_DATE[[idx]],""\\(?[0-9,.]+\\)?"")[[1]][[2]]) ) >0)  ]"
"0",""
"0","tibble("
"0","  NSTEP=sapply(idx, function(idx) as.numeric(str_extract_all(HM_DATE[[idx]],""\\(?[0-9,.]+\\)?"")[[1]][[2]]) ),"
"0","  LOG_PREHYDS= sapply( idx, function(idx) as.numeric(str_extract( HM_DATE[[idx+1]], ""\\(?[0-9,.]+\\)?""))),"
"0","  VORTICITY=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+3]],"" +""))[[3]])),"
"0","  DIVERGENCE=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+3]],"" +""))[[4]])),"
"0","  TEMPERATURE=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+3]],"" +""))[[5]])),"
"0","  KINETIC_ENERGY=sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+3]],"" +""))[[6]])),"
"0","  LOG_PRE_PREHYD   = sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+5]],"" +""))[[3]])),"
"0","  VERT_DIV_PLUS_X  =sapply( idx, function(idx) as.numeric(unlist(strsplit(HM_DATE[[idx+5]],"" +""))[[4]]))"
"0",") "
"0","}"
"0",""
"0",""
